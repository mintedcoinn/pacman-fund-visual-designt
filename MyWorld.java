import greenfoot.*;

public class MyWorld extends World {
    private int[][] wrld = {
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,6,1,7,0,0,0,6,1,1,1,1,1,7,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,6,1,1,1,1,1,7,0,0,0,6,1,7,0,0,0,1},
        {1,0,0,0,9,1,8,0,0,0,9,1,1,1,1,1,8,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,9,1,1,1,1,1,8,0,0,0,9,1,8,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,4,1,5,0,0,0,2,0,0,0,4,1,1,1,1,1,1,0,0,0,3,0,0,0,1,1,1,1,1,1,5,0,0,0,2,0,0,0,4,1,5,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1},
        {9,1,1,1,5,0,0,0,4,1,1,1,1,1,5,0,0,0,6,1,1,1,5,0,0,0,4,1,1,1,7,0,0,0,4,1,1,1,1,1,5,0,0,0,4,1,1,1,8},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
        {6,1,1,1,5,0,0,0,4,1,1,1,1,1,7,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,6,1,1,1,1,1,5,0,0,0,4,1,1,1,7},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,9,1,1,1,1,1,1,1,1,1,1,1,8,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,2,0,0,0,6,1,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,7,0,0,0,2,0,0,0,1},
        {1,0,0,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,0,1},
        {1,0,0,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,0,1},
        {1,0,0,0,1,0,0,0,9,1,1,1,1,1,5,0,0,0,2,0,0,0,4,1,1,1,5,0,0,0,2,0,0,0,4,1,1,1,1,1,8,0,0,0,1,0,0,0,1},
        {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1},
        {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1},
        {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1},
        {1,0,0,0,1,1,1,1,5,0,0,0,4,1,1,1,1,1,1,1,1,1,5,0,0,0,4,1,1,1,1,1,1,1,1,1,5,0,0,0,4,1,1,1,1,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
    };
    public final static int worldPieceSize = 20;
    public final static int worldHalfPieceSize = worldPieceSize /2;
    public static int POWER_PILL_COUNT = 8;
    private boolean gamePaused = false;
    public MyWorld() {    
        super(980, 700, 1);
        setBackground("background.jpg");
        buildLab();
        
        Label score = new Label("Score ", 25);
        addObject(score, 35, 20);
        //player = new Player(score);
        //передаем score в Player, чтобы потом можно было изменять счет через
        //score.update_score(число)
    }

    public void act() {
        if (Greenfoot.isKeyDown("escape")) {
            pauseGame();
        }
    }
    public void pauseGame() {
        if (!gamePaused) {
            gamePaused = true;
            Greenfoot.setWorld(new PauseMenu(this));
        }
    }
    
    public void resumeGame() {
        gamePaused = false;
    }
    
    private void buildLab() {
        for (int y = 0; y < wrld.length; y++) {
            for (int x = 0; x < wrld[y].length; x++) {
                if (wrld[y][x] != 0) {
                    addObject(new Wall(wrld[y][x]), x * worldPieceSize + worldHalfPieceSize, y * worldPieceSize + worldHalfPieceSize + 40);
                }
            }
        }
    }
}
